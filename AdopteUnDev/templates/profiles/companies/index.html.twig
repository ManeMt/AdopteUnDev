{% extends 'base.html.twig' %}

{% block title %}Dashboard Entreprise{% endblock %}

{% block body %}
<section class="dashboard">
    <div class="dashboard-header">
        <h1>Bienvenue, {{ company.name }}</h1>
        <p>Voici un aperçu de votre activité :</p>
    </div>

    <div class="stats">
        <div class="stat">
            <h3>{{ company.jodAdds|length }}</h3>
            <p>Offres publiées</p>
        </div>
        <div class="stat">
            <h3>123</h3>
            <p>Vues totales</p>
        </div>
        <div class="stat">
            <h3>5</h3>
            <p>Candidats intéressés</p>
        </div>
    </div>

    <div class="jobs">
        <h2>Vos Offres d'emploi</h2>
        <a href="{{ path('add_job') }}" class="btn btn-primary">Créer une nouvelle offre</a>
        <ul class="job-list">
            {% for job in company.jodAdds %}
                <li>
                    <h3>{{ job.title }}</h3>
                    <p><strong>Salaire :</strong> {{ job.salary }} €</p>
                    <p><strong>Description :</strong> {{ job.description }}</p>
                    <a href="{{ path('edit_job', { id: job.id }) }}" class="btn btn-secondary">Modifier</a>
                    <a href="{{ path('delete_job', { id: job.id }) }}" class="btn btn-danger">Supprimer</a>
                </li>
            {% else %}
                <p>Aucune offre d'emploi trouvée.</p>
            {% endfor %}
        </ul>
    </div>
</section>
{% endblock %}
